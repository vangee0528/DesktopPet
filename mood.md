### 情感系统设计

#### 核心情感驱动因素
1. **情感能量（Emotion Energy）**: 0-100
   - 代表宠物当前的情感活力水平
   - 随时间自然衰减（每分钟-1点）
   - 被抚摸时增加（每次+15点）
   - 影响：高能量时更容易表现积极情绪

2. **互动渴望（Interaction Need）**: 0-100
   - 代表宠物希望被关注的渴望程度
   - 随时间自然增长（每分钟+1点）
   - 被抚摸时重置为0
   - 影响：高渴望时更容易表现负面情绪

3. **随机兴奋度（Random Excitement）**: 0-100
   - 代表宠物对外界刺激的随机反应
   - 每分钟有30%概率随机变化（±20点）
   - 特殊事件触发时大幅变化
   - 影响：创造不可预测的趣味行为

#### 情感状态决策逻辑

| 当前状态             | 触发条件                                                                 | 持续时间       |
|----------------------|--------------------------------------------------------------------------|---------------|
| **中性 (neutral)**   | 默认状态，当不满足其他条件时                                              | 无限          |
| **开心 (happy)**     | 情感能量 > 70 且 互动渴望 < 30                                           | 15-30秒       |
| **兴奋 (excited)**   | 随机兴奋度 > 80 或 (情感能量 > 60 且 刚被抚摸)                           | 10-20秒       |
| **好奇 (curious)**   | 系统事件触发（如新通知）或 随机兴奋度 > 70                                | 10-15秒       | 
| **困倦 (sleepy)**    | 情感能量 < 30 或 系统空闲时间 > 30分钟                                    | 直到能量恢复   | 
| **失望 (disappointed)** | 互动渴望 > 70 且 2小时内无互动                                           | 20-40秒       | 
| **难过 (sad)**       | 互动渴望 > 80 且 情感能量 < 40                                           | 30-60秒       | 
| **生气 (angry)**     | 被频繁快速点击（3秒内>5次）或 系统事件（如强制关闭）                       | 10-15秒       | 

### 交互设计
**主要交互：抚摸**
   - 鼠标悬停在宠物上：宠物轻微抬头（预互动状态）
   - 鼠标点击并按住：播放抚摸动画，情感能量增加
   - 释放鼠标：显示心形气泡，互动渴望重置

**被动交互**
   - 系统通知时：宠物短暂变为好奇状态
   - 用户长时间不操作：互动渴望增加

**环境响应**：
   - 夜间自动增加困倦概率
   - 系统负载高时表现紧张（可复用生气动画）
**渐进式情感**：
   ```mermaid
   graph LR
   neutral -->|被抚摸| happy
   happy -->|持续互动| excited
   neutral -->|长时间忽视| disappointed
   disappointed -->|继续忽视| sad
   sad -->|持续忽视| sleepy
   ```
